{
  "env": {
    "AWS_PROFILE": "screeps-monitor",
    "AWS_CONFIG_FILE": "h:\\Screeps\\.aws\\config",
    "AWS_SHARED_CREDENTIALS_FILE": "h:\\Screeps\\.aws\\credentials"
  },
  "permissions": {
    "allow": [
      "Bash(npm install:*)",
      "Bash(npm run build:*)",
      "Bash(npm run push:*)",
      "Bash(npm run push:main:*)",
      "Bash(npx ts-node:*)",
      "Bash(aws sts get-caller-identity:*)",
      "Bash(aws configure:*)",
      "Bash(cat:*)",
      "Bash(AWS_PROFILE=screeps-monitor aws sts:*)",
      "Bash(AWS_PROFILE=screeps-monitor aws ecr:*)",
      "Bash(docker --version:*)",
      "Bash(docker login:*)",
      "Bash(docker build:*)",
      "Bash(docker tag:*)",
      "Bash(docker push:*)",
      "Bash(AWS_PROFILE=screeps-monitor aws ecs create-cluster:*)",
      "Bash(AWS_PROFILE=screeps-monitor aws ec2 describe-vpcs:*)",
      "Bash(AWS_PROFILE=screeps-monitor aws ec2 create-default-vpc:*)",
      "Bash(AWS_PROFILE=screeps-monitor aws ec2:*)",
      "Bash(AWS_PROFILE=screeps-monitor aws iam create-role:*)",
      "Bash(AWS_PROFILE=screeps-monitor aws iam attach-role-policy:*)",
      "Bash(AWS_PROFILE=screeps-monitor aws ecs register-task-definition:*)",
      "Bash(AWS_PROFILE=screeps-monitor aws ecs create-service:*)",
      "Bash(AWS_PROFILE=screeps-monitor aws ecs list-tasks:*)",
      "Bash(AWS_PROFILE=screeps-monitor aws ecs describe-tasks:*)",
      "Bash(curl:*)",
      "Bash(AWS_PROFILE=screeps-monitor aws logs:*)",
      "Bash(MSYS_NO_PATHCONV=1 AWS_PROFILE=screeps-monitor aws logs create-log-group:*)",
      "Bash(AWS_PROFILE=screeps-monitor aws ecs update-service:*)",
      "Bash(AWS_PROFILE=screeps-monitor aws sns:*)",
      "Bash(AWS_PROFILE=screeps-monitor aws lambda:*)",
      "Bash(AWS_PROFILE=screeps-monitor aws events:*)",
      "Bash(AWS_PROFILE=screeps-monitor aws secretsmanager create-secret:*)",
      "Bash(AWS_PROFILE=screeps-monitor aws sso login:*)",
      "Bash(npx esbuild:*)",
      "Bash(zip:*)",
      "Bash(powershell -Command:*)",
      "Bash(ls:*)",
      "Bash(terraform version:*)",
      "Bash(AWS_PROFILE=screeps-monitor aws dynamodb:*)",
      "Bash(AttributeName=roomName,AttributeType=S )",
      "Bash(AttributeName=timestamp,AttributeType=N )",
      "Bash(AttributeName=roomName,KeyType=HASH )",
      "Bash(AttributeName=timestamp,KeyType=RANGE )",
      "Bash(AttributeName=eventId,AttributeType=S )",
      "Bash(AttributeName=eventId,KeyType=RANGE )",
      "Bash(AttributeName=id,AttributeType=S )",
      "Bash(AttributeName=status,AttributeType=S )",
      "Bash(AttributeName=createdAt,AttributeType=N )",
      "Bash(AttributeName=id,KeyType=HASH )",
      "Bash(AWS_PROFILE=screeps-monitor aws iam:*)",
      "Bash(AWS_PROFILE=screeps-monitor aws secretsmanager:*)",
      "Bash(AWS_PROFILE=screeps-monitor aws apigatewayv2:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nAdd centralized state management, task system, and AWS advisor\n\nCore Systems:\n- ColonyState: Centralized cached state with tiered refresh rates\n- TaskManager: Task-based creep coordination to prevent duplicate targeting\n- CPUBudget: CPU tracking and bucket-aware throttling\n- FailureRecovery: Emergency bootstrap spawning and safe mode triggers\n\nCreep Improvements:\n- Harvesters drop energy at sources for early-game pickup\n- Builders/Upgraders collect from sources instead of draining spawn\n- Haulers use task system to prevent multiple haulers targeting same container\n- Source-aware harvester spawning (1 per source with containers)\n- Distinct visual labels (Hv, Hl, Up, Bd) to differentiate roles\n\nAWS AI Advisor:\n- Lambda functions for data collection, analysis, and API\n- DynamoDB tables for snapshots, events, and recommendations\n- Terraform infrastructure definitions\n- StatsCollector for in-game metrics collection\n\nDocumentation:\n- Architecture overview and design docs\n- CLAUDE.md development guide\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(npm run push:sim:*)",
      "Bash(git push:*)",
      "Bash(AWS_PROFILE=screeps-monitor aws cognito-idp:*)",
      "Bash(AWS_PROFILE=screeps-monitor aws quicksight:*)",
      "Bash(aws sso login:*)",
      "Bash(aws cognito-idp list-user-pool-clients:*)",
      "Bash(export AWS_CONFIG_FILE=\"h:\\\\Screeps\\\\.aws\\\\config\")",
      "Bash(export AWS_SHARED_CREDENTIALS_FILE=\"h:\\\\Screeps\\\\.aws\\\\credentials\")",
      "Bash(export AWS_PROFILE=screeps-monitor)",
      "Bash(aws cognito-idp list-user-pools:*)",
      "Bash(aws cognito-idp describe-user-pool-client:*)",
      "Bash(git commit:*)",
      "Bash(aws lambda update-function-code:*)",
      "Bash(aws dynamodb update-time-to-live:*)",
      "Bash(MSYS_NO_PATHCONV=1 AWS_PROFILE=screeps-monitor aws logs:*)",
      "Bash(npm run:*)",
      "Bash(npx tsc --noEmit)",
      "Bash(git status:*)",
      "Bash(terraform apply:*)",
      "Bash(aws lambda list-functions:*)",
      "Bash(aws apigatewayv2 get-apis:*)",
      "Bash(aws apigatewayv2 get-routes:*)",
      "Bash(aws apigatewayv2 get-integrations:*)",
      "Bash(aws apigatewayv2 create-route:*)",
      "Bash(aws logs:*)",
      "Bash(MSYS_NO_PATHCONV=1 aws logs tail:*)",
      "Bash(aws apigatewayv2 get-stages:*)",
      "Bash(aws apigatewayv2 create-deployment:*)",
      "Bash(aws apigatewayv2 update-stage:*)",
      "Bash(aws apigatewayv2 get-route:*)",
      "Bash(aws apigatewayv2 get-integration:*)",
      "Bash(aws apigatewayv2 update-route:*)",
      "Bash(aws quicksight list-analyses:*)",
      "Bash(aws quicksight list-dashboards:*)",
      "Bash(aws quicksight create-analysis:*)",
      "Bash(aws quicksight list-data-sets:*)",
      "Bash(aws quicksight describe-analysis:*)",
      "Bash(aws quicksight describe-dashboard:*)",
      "Bash(aws quicksight update-dashboard-published-version:*)",
      "Bash(aws apigatewayv2 update-integration:*)",
      "Bash(aws apigatewayv2 create-integration:*)",
      "WebFetch(domain:dossn1w7n5.execute-api.us-east-1.amazonaws.com)",
      "Bash(echo:*)"
    ]
  }
}
